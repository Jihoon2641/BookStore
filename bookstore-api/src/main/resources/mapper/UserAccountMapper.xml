<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bookstore.bookstore_api.user.adapter.out.persistence.UserAccountMapper">

    <select id="findByEmail" resultType="UserEntity">
        SELECT 
            id, 
            name, 
            email, 
            password
        FROM user_accounts 
        WHERE email = #{email}
    </select>

    <insert id="save" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO user_accounts (
            name, 
            email, 
            password
        ) VALUES (
            #{name}, 
            #{email}, 
            #{password}
        )
    </insert>

</mapper>